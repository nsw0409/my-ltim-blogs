<!DOCTYPE html>
<html>
    <head>
    </head>
    <body>
        <a href="link" class="linkId">
            Login with github
        </a>
        <script>
            const socket = new WebSocket('ws://localhost:3001');
            if(socket){
                socket.onmessage = event => {
                var links = document.getElementsByClassName('linkId');
                Array.from(links).forEach(link => {
                    link.href = 'https://github.com/login/oauth/authorize?client_id='+event.data;
                    });
                };
                socket.onopen = () => {
                    console.log('Connected to server');
                };
                socket.onclose = () => {
                    console.log('Disconnected from server');
                };
            }
        </script>
    </body>
</html>