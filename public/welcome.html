<html>
    <head>
        <script>
            const query = window.location.search.substring(1);
            const token = query.split('code=')[1];
            fetch('https://api.github.com/user', {
                headers: {
                    Authorization: 'token ' + token
                }
            })
            .then(res => res.json())
            .then(res => {
                const nameNode = document.createTextNode(`Welcome, ${res.name}`)
                document.body.appendChild(nameNode)
            })
        </script>
    </head>
    <body>
        <a href="/">Logout</a>
    </body>
</html>